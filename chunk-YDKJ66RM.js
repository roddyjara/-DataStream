import{a as v}from"./chunk-CTWZ4Y67.js";import{h as E}from"./chunk-4LKPXAJC.js";import{a as x}from"./chunk-TEFFRFYT.js";import{Ca as f,Na as g,Oa as y,Qa as _,Ra as C,Wa as n,Xa as i,Ya as M,ba as s,db as h,jb as m,kb as a,lb as u,mb as d,qa as r,qb as c,sb as p,ya as l}from"./chunk-7AMOEM73.js";var b=(o,t)=>t.id;function S(o,t){if(o&1&&(n(0,"div",8),M(1,"div",10),n(2,"div",11)(3,"div",12)(4,"span",13),m(5),i(),n(6,"span",14),m(7),c(8,"date"),i()(),n(9,"p"),m(10),i()()()),o&2){let e=t.$implicit;r(5),a(e.action),r(2),a(p(8,3,e.date,"dd/MM/yyyy")),r(3),a(e.description)}}function I(o,t){o&1&&(n(0,"p",9),m(1,"No hay registros en tu historial"),i())}function k(o,t){if(o&1&&(n(0,"div",2)(1,"div",3),m(2),i(),n(3,"div",4)(4,"h2"),m(5),i(),n(6,"p"),m(7),i(),n(8,"span",5),m(9),c(10,"date"),i()()(),n(11,"div",6)(12,"h3"),m(13,"Historial de Actividades"),i(),n(14,"div",7),_(15,S,11,6,"div",8,b,!1,I,2,0,"p",9),i()()),o&2){let e=h();r(2),d("",e.employee().firstName.charAt(0),"",e.employee().lastName.charAt(0)),r(3),d("",e.employee().firstName," ",e.employee().lastName),r(2),d("",e.employee().position," - ",e.employee().department),r(2),u("Fecha de ingreso: ",p(10,8,e.employee().hireDate,"dd/MM/yyyy")),r(6),C(e.employee().history)}}function w(o,t){o&1&&(n(0,"div",1)(1,"p"),m(2,"No se encontr\xF3 informaci\xF3n de empleado asociada a tu cuenta."),i()())}var O=class o{constructor(t,e){this.authService=t;this.employeeService=e}employee=s(null);ngOnInit(){let t=this.authService.currentUser();if(t?.employeeId){let e=this.employeeService.getById(t.employeeId);e&&this.employee.set(e)}else if(t?.email){let e=this.employeeService.getByEmail(t.email);e&&this.employee.set(e)}}static \u0275fac=function(e){return new(e||o)(l(v),l(x))};static \u0275cmp=f({type:o,selectors:[["app-my-history"]],decls:5,vars:1,consts:[[1,"my-history-page"],[1,"not-found"],[1,"profile-summary"],[1,"avatar"],[1,"info"],[1,"hire-date"],[1,"history-card"],[1,"timeline"],[1,"timeline-item"],[1,"no-history"],[1,"timeline-marker"],[1,"timeline-content"],[1,"timeline-header"],[1,"action"],[1,"date"]],template:function(e,P){e&1&&(n(0,"div",0)(1,"h1"),m(2,"Mi Historial en la Empresa"),i(),g(3,k,18,11)(4,w,3,0,"div",1),i()),e&2&&(r(3),y(P.employee()?3:4))},dependencies:[E],styles:['.my-history-page[_ngcontent-%COMP%]{max-width:800px;margin:0 auto}.my-history-page[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#fff;font-size:1.75rem;margin:0 0 1.5rem}.profile-summary[_ngcontent-%COMP%]{background:linear-gradient(135deg,#1a1a2ecc,#16213ecc);border:1px solid rgba(255,255,255,.05);border-radius:16px;padding:1.5rem;display:flex;align-items:center;gap:1.5rem;margin-bottom:1.5rem}.profile-summary[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]{width:80px;height:80px;background:linear-gradient(135deg,#e94560,#ff6b6b);border-radius:16px;display:flex;align-items:center;justify-content:center;font-size:2rem;font-weight:700;color:#fff;flex-shrink:0}.profile-summary[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#fff;margin:0 0 .25rem;font-size:1.25rem}.profile-summary[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#ffffffb3;margin:0 0 .5rem}.profile-summary[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .hire-date[_ngcontent-%COMP%]{color:#e94560;font-size:.9rem}.history-card[_ngcontent-%COMP%]{background:linear-gradient(135deg,#1a1a2ecc,#16213ecc);border:1px solid rgba(255,255,255,.05);border-radius:16px;padding:1.5rem}.history-card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#e94560;margin:0 0 1.5rem;font-size:1.1rem;font-weight:600}.timeline[_ngcontent-%COMP%]{position:relative;padding-left:2rem}.timeline[_ngcontent-%COMP%]:before{content:"";position:absolute;left:6px;top:0;bottom:0;width:2px;background:linear-gradient(180deg,#e94560,#e9456033)}.timeline-item[_ngcontent-%COMP%]{position:relative;padding-bottom:1.5rem}.timeline-item[_ngcontent-%COMP%]:last-child{padding-bottom:0}.timeline-item[_ngcontent-%COMP%]   .timeline-marker[_ngcontent-%COMP%]{position:absolute;left:-2rem;top:0;width:14px;height:14px;background:#e94560;border-radius:50%;border:3px solid #1a1a2e}.timeline-item[_ngcontent-%COMP%]   .timeline-content[_ngcontent-%COMP%]{background:#0003;border-radius:10px;padding:1rem}.timeline-item[_ngcontent-%COMP%]   .timeline-content[_ngcontent-%COMP%]   .timeline-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:.5rem}.timeline-item[_ngcontent-%COMP%]   .timeline-content[_ngcontent-%COMP%]   .timeline-header[_ngcontent-%COMP%]   .action[_ngcontent-%COMP%]{color:#e94560;font-weight:600}.timeline-item[_ngcontent-%COMP%]   .timeline-content[_ngcontent-%COMP%]   .timeline-header[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]{color:#ffffff80;font-size:.85rem}.timeline-item[_ngcontent-%COMP%]   .timeline-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#fffc;margin:0;font-size:.95rem}.no-history[_ngcontent-%COMP%], .not-found[_ngcontent-%COMP%]{text-align:center;color:#ffffff80;padding:2rem}']})};export{O as MyHistoryComponent};
