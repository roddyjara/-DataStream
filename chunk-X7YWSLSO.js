import{I as n,a,b as s,ba as d}from"./chunk-TUDQ4247.js";var l=class r{STORAGE_KEY="employees";employees=d([]);constructor(){this.loadEmployees()}loadEmployees(){let e=localStorage.getItem(this.STORAGE_KEY);e?this.employees.set(JSON.parse(e)):(this.employees.set(this.getInitialEmployees()),this.saveToStorage())}saveToStorage(){localStorage.setItem(this.STORAGE_KEY,JSON.stringify(this.employees()))}getInitialEmployees(){return[{id:"EMP001",firstName:"Juan",lastName:"P\xE9rez",email:"empleado@empresa.com",phone:"+1 555-0101",position:"Desarrollador Senior",department:"Tecnolog\xEDa",hireDate:new Date("2022-03-15"),salary:55e3,status:"active",history:[{id:"1",date:new Date("2022-03-15"),action:"Contrataci\xF3n",description:"Ingreso a la empresa como Desarrollador Junior"},{id:"2",date:new Date("2023-06-01"),action:"Promoci\xF3n",description:"Ascendido a Desarrollador Senior"},{id:"3",date:new Date("2024-01-15"),action:"Capacitaci\xF3n",description:"Complet\xF3 curso de Angular Avanzado"}]},{id:"EMP002",firstName:"Mar\xEDa",lastName:"Garc\xEDa",email:"maria@empresa.com",phone:"+1 555-0102",position:"Analista de Datos",department:"An\xE1lisis",hireDate:new Date("2021-08-20"),salary:48e3,status:"active",history:[{id:"1",date:new Date("2021-08-20"),action:"Contrataci\xF3n",description:"Ingreso como Analista Junior"},{id:"2",date:new Date("2022-12-10"),action:"Promoci\xF3n",description:"Ascendida a Analista de Datos"}]},{id:"EMP003",firstName:"Carlos",lastName:"L\xF3pez",email:"carlos@empresa.com",phone:"+1 555-0103",position:"Gerente de Proyectos",department:"Gesti\xF3n",hireDate:new Date("2020-01-10"),salary:72e3,status:"active",history:[{id:"1",date:new Date("2020-01-10"),action:"Contrataci\xF3n",description:"Ingreso como Coordinador de Proyectos"},{id:"2",date:new Date("2021-07-01"),action:"Promoci\xF3n",description:"Ascendido a Gerente de Proyectos"}]}]}getAll(){return this.employees()}getById(e){return this.employees().find(t=>t.id===e)}getByEmail(e){return this.employees().find(t=>t.email===e)}create(e){let t=s(a({},e),{id:"EMP"+String(this.employees().length+1).padStart(3,"0"),history:[{id:"1",date:new Date,action:"Contrataci\xF3n",description:`Ingreso a la empresa como ${e.position}`}]});this.employees.update(i=>[...i,t]),this.saveToStorage()}update(e,t){this.employees.update(i=>i.map(o=>o.id===e?a(a({},o),t):o)),this.saveToStorage()}delete(e){this.employees.update(t=>t.filter(i=>i.id!==e)),this.saveToStorage()}addHistoryEntry(e,t){this.employees.update(i=>i.map(o=>o.id===e?s(a({},o),{history:[...o.history,s(a({},t),{id:String(o.history.length+1)})]}):o)),this.saveToStorage()}static \u0275fac=function(t){return new(t||r)};static \u0275prov=n({token:r,factory:r.\u0275fac,providedIn:"root"})};export{l as a};
