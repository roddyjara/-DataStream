import{I as i,ba as n,vb as o}from"./chunk-7AMOEM73.js";var l=class r{STORAGE_KEY="current_user";users=[{id:"1",email:"roddyjara@datastream.com",password:"admin123",role:"admin"},{id:"2",email:"francovivas@datastream.com",password:"emp123",role:"employee",employeeId:"EMP001"},{id:"3",email:"ramirotraverna@datastream.com",password:"emp456",role:"employee",employeeId:"EMP002"}];currentUser=n(null);isLoggedIn=o(()=>this.currentUser()!==null);isAdmin=o(()=>this.currentUser()?.role==="admin");constructor(){this.loadUserFromStorage()}loadUserFromStorage(){let e=localStorage.getItem(this.STORAGE_KEY);e&&this.currentUser.set(JSON.parse(e))}login(e,t){let s=this.users.find(a=>a.email===e&&a.password===t);return s?(this.currentUser.set(s),localStorage.setItem(this.STORAGE_KEY,JSON.stringify(s)),!0):!1}logout(){this.currentUser.set(null),localStorage.removeItem(this.STORAGE_KEY)}getRole(){return this.currentUser()?.role??null}addUser(e){this.users.push(e)}static \u0275fac=function(t){return new(t||r)};static \u0275prov=i({token:r,factory:r.\u0275fac,providedIn:"root"})};export{l as a};
