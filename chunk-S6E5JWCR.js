import{I as a,ba as n,rb as t}from"./chunk-TUDQ4247.js";var l=class r{STORAGE_KEY="current_user";users=[{id:"1",email:"admin@empresa.com",password:"admin123",role:"admin"},{id:"2",email:"empleado@empresa.com",password:"emp123",role:"employee",employeeId:"EMP001"},{id:"3",email:"maria@empresa.com",password:"maria123",role:"employee",employeeId:"EMP002"}];currentUser=n(null);isLoggedIn=t(()=>this.currentUser()!==null);isAdmin=t(()=>this.currentUser()?.role==="admin");constructor(){this.loadUserFromStorage()}loadUserFromStorage(){let e=localStorage.getItem(this.STORAGE_KEY);e&&this.currentUser.set(JSON.parse(e))}login(e,s){let o=this.users.find(i=>i.email===e&&i.password===s);return o?(this.currentUser.set(o),localStorage.setItem(this.STORAGE_KEY,JSON.stringify(o)),!0):!1}logout(){this.currentUser.set(null),localStorage.removeItem(this.STORAGE_KEY)}getRole(){return this.currentUser()?.role??null}addUser(e){this.users.push(e)}static \u0275fac=function(s){return new(s||r)};static \u0275prov=a({token:r,factory:r.\u0275fac,providedIn:"root"})};export{l as a};
